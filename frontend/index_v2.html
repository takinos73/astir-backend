<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ASTIR CMMS â€“ Supervisor Dashboard</title>

  <link rel="stylesheet" href="style.css" />
</head>

<body>

  <!-- Modal Î³Î¹Î± Î¿Î»Î¿ÎºÎ»Î®ÏÏ‰ÏƒÎ· ÎµÏÎ³Î±ÏƒÎ¯Î±Ï‚ -->
  <div id="modalOverlay" class="modal-overlay">
    <div class="modal-box">
      <h3>ÎŸÎ»Î¿ÎºÎ»Î®ÏÏ‰ÏƒÎ· Î•ÏÎ³Î±ÏƒÎ¯Î±Ï‚</h3>
      <p>Î Î¿Î¹Î¿Ï‚ Î¿Î»Î¿ÎºÎ»Î®ÏÏ‰ÏƒÎµ Ï„Î·Î½ ÎµÏÎ³Î±ÏƒÎ¯Î±;</p>
      <input type="text" id="technicianInput" placeholder="ÎŒÎ½Î¿Î¼Î± Ï„ÎµÏ‡Î½Î¹ÎºÎ¿Ï" />
      <div class="modal-actions">
        <button id="confirmDone" class="btn-table">âœ” Î•Ï€Î¹Î²ÎµÎ²Î±Î¯Ï‰ÏƒÎ·</button>
        <button id="cancelDone" class="btn-cancel">Î‘ÎºÏÏÏ‰ÏƒÎ·</button>
      </div>
    </div>
  </div>

  <div class="app-shell">

    <!-- HEADER -->
    <header class="app-header">
      <div class="app-header-main">
        <div class="app-title">
          <span class="logo-dot"></span>
          ASTIR CMMS
        </div>
        <div class="app-subtitle">Maintenance â€“ Supervisor View</div>
      </div>
      <div class="app-header-meta">
        <div class="pill">
          Backend Live: PostgreSQL â€¢ Render
        </div>
        <span class="snapshot-note" id="snapshotStatus">
          No snapshot loaded
        </span>
      </div>
    </header>

    <!-- MAIN TABS -->
    <section class="main-tabs">
      <button class="main-tab active" data-tab="tasks">Tasks</button>
      <button class="main-tab" data-tab="docs">Documentation</button>
    </section>

    <!-- ===================== -->
    <!-- TAB: TASKS -->
    <!-- ===================== -->
    <div id="tab-tasks">

      <!-- KPIs -->
      <section class="kpi-strip">
        <article class="kpi-card">
          <span class="kpi-label">Total</span>
          <span id="kpiTotal" class="kpi-value">0</span>
        </article>
        <article class="kpi-card">
          <span class="kpi-label">Overdue</span>
          <span id="kpiOverdue" class="kpi-value">0</span>
        </article>
        <article class="kpi-card">
          <span class="kpi-label">Due â‰¤ 7 days</span>
          <span id="kpiSoon" class="kpi-value">0</span>
        </article>
        <article class="kpi-card">
          <span class="kpi-label">Completed</span>
          <span id="kpiDone" class="kpi-value">0</span>
        </article>
      </section>

      <!-- LINE TABS -->
      <section class="line-tabs-row">
        <div class="line-tabs">
          <button class="line-tab active" data-line="all">ALL</button>
          <button class="line-tab" data-line="L1">L1</button>
          <button class="line-tab" data-line="L2">L2</button>
          <button class="line-tab" data-line="L3">L3</button>
          <button class="line-tab" data-line="L4">L4</button>
          <button class="line-tab" data-line="L5">L5</button>
          <button class="line-tab" data-line="L6">L6</button>
          <button class="line-tab" data-line="L7">L7</button>
        </div>
      </section>

      <!-- FILTERS -->
      <section class="controls-row">
        <select id="machineFilter">
          <option value="all">All Machines</option>
        </select>

        <select id="statusFilter">
          <option value="all">All Status</option>
          <option value="Overdue">Overdue Only</option>
          <option value="Planned">Planned Only</option>
          <option value="Done">Completed Only</option>
        </select>

        <label class="btn-secondary">
          ğŸ“‚ Upload Excel
          <input type="file" id="excelFile" accept=".xlsx,.xls" hidden />
        </label>
        <button class="btn-secondary" id="importExcelBtn">ğŸ“¥ Import Excel</button>

        <button class="btn-secondary" id="exportSnapshot">ğŸ“¦ Export Snapshot</button>
        <label class="btn-secondary">
          â™» Load Snapshot
          <input type="file" id="snapshotFile" accept="application/json" hidden />
        </label>
        <button class="btn-secondary" id="restoreSnapshot">Restore</button>
      </section>

      <!-- TASK TABLE -->
      <div class="table-card">
        <table id="tasksTable">
          <thead>
            <tr>
              <th>Machine</th>
              <th>Section</th>
              <th>Unit</th>
              <th>Task</th>
              <th>Type</th>
              <th>Due Date</th>
              <th>Status</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>

    <!-- ===================== -->
    <!-- TAB: DOCUMENTATION -->
    <!-- ===================== -->
    <div id="tab-docs" style="display: none;">

      <section class="docs-header">
        <h2>Documentation â€“ MasterPlan</h2>
        <p class="docs-subtitle">
          Î•Ï€Î¯ÏƒÎ·Î¼Î¿ MasterPlan PDF Ï„Î¿Ï… ÎµÏÎ³Î¿ÏƒÏ„Î±ÏƒÎ¯Î¿Ï…
        </p>
      </section>

      <section class="docs-controls">
        <label class="btn-secondary">
          ğŸ“¤ Upload MasterPlan PDF
          <input type="file" id="pdfInput" accept="application/pdf" hidden />
        </label>
        <button class="btn-secondary" id="openPdfBtn">ğŸ“„ Î ÏÎ¿Î²Î¿Î»Î® PDF</button>
      </section>

      <section class="docs-viewer-wrapper">
        <iframe
          id="pdfViewer"
          class="docs-viewer"
          src=""
          title="MasterPlan PDF"
        ></iframe>
      </section>

    </div>

  </div>

  <!-- JS -->
  <script src="app.js"></script>
</body>
</html>

